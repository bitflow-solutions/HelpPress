<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no"><title>온라인도움말</title></head><body><div class="se-contents" style="font-family: Arial, Helvetica, sans-serif; font-size: 11pt; line-height: 1.2;"><div class="se-upload-paths" style="display: none;">{"image":["uploads/00010/ebeddd42-33f4-4077-8a2e-1d9b31fbff07.jpg"]}</div><div class="se-div" style="box-sizing: border-box; margin-bottom: 30px; display: block;"><h1 style="box-sizing: border-box; color: inherit; font-weight: bold; font-family: inherit; font-size: 22px; line-height: 1.1; padding-bottom: 10px; margin: 20px 0px 10px; border-bottom: 1px solid rgb(221, 221, 221);" itemprop="headline"><a style="box-sizing: border-box; background-color: transparent; text-decoration: underline; color: rgb(51, 51, 51);" data-href="https://eclipse4j.tistory.com/325" data-hyperlink-id="se_d31f955f-841f-4a72-b8e2-cb6ff70fd620" target="_blank" href="https://eclipse4j.tistory.com/325"><span>Spring Data JPA에서 @Query사용시 Parameter</span></a><span>s2</span></h1><p style="margin: 0px;"><span style="color: rgb(153, 153, 153); margin: 0px;" content="2019. 5. 16. 13:53" datetime="2019. 5. 16. 13:53" itemprop="datePublished">&nbsp;</span><span content="2019. 5. 16. 13:53" datetime="2019. 5. 16. 13:53" itemprop="datePublished">2019. 5. 16. 13:53</span><span>&nbsp;</span></p><p style="box-sizing: border-box; color: rgb(153, 153, 153); padding-right: 20px; margin: 0px; display: inline;"><span style="box-sizing: border-box; margin: 0px;" itemprop="name" itemtype="http://schema.org/Person">&nbsp;</span><span style="box-sizing: border-box;" itemprop="name" itemtype="http://schema.org/Person">Grissom eclipse4j</span><span>&nbsp;</span><a style="box-sizing: border-box; background-color: transparent; text-decoration: underline; color: rgb(153, 153, 153);" data-href="https://eclipse4j.tistory.com/category/Programming%21" data-hyperlink-id="se_e1334902-b02b-4f86-91c4-ab1965b8302f" target="_blank" href="https://eclipse4j.tistory.com/category/Programming%21"><span style="box-sizing: border-box; margin: 0px;">&nbsp;</span><span style="box-sizing: border-box;">Programming!</span></a></p></div><div class="se-div" style="box-sizing: border-box;"><div class="se-div" style="box-sizing: border-box;"><div class="se-div" style="box-sizing: border-box;"><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>기존 고x몰이라는 PHP 쇼핑몰을 Java/JPA로 전환하는중 DB 테이블에 1:1 매핑된 Entity로는 뭔가 CUD 관련 처리 하는게 불안해서,&nbsp;</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>(실제 type이 망.. 단순 true/false가 고x몰 DB 하나의 테이블에 어떤 컬럼은 y / n 어떤 컬럼은 o / null 어떤 컬럼은 1 / 0 어떤 컬럼은 Y / N.....으..)</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>가능하면 update시에 필요 entity를 별도 생성하거나 항목별 update를 하도록 하고 있다.</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>&nbsp;</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>항목별 업데이트를 할 경우 여러개의 param을 사용하기도 하는데 그냥 Object를 넘겨서 처리하는 것이 좀 더 깔끔해 보인다.</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>(라고 나는 주장한다~~~~으~~~)</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>&nbsp;</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>기존 :&nbsp;</span></p><div class="se-div" style="box-sizing: border-box; border-radius: 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); line-height: 1.42857; padding: 9.5px; margin: 0px 0px 10px; border-color: rgb(204, 204, 204); border-style: solid; border-width: 1px; display: block; overflow: auto; overflow-wrap: break-word; word-break: break-all;" data-ke-type="codeblock"><div class="se-para-div" style="margin: 0px;"><secontainer style="display: inline-block; white-space: normal;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-radius: 0px; white-space: pre-wrap;">@Query("update User set name = :name, age = :age, ssn = :ssn where id = :id")
int updateSpecificAttribute(@Param("name") String name, @Param("age") Integer age, @Param("ssn") String ssn, @Param("id") Long id );</code></secontainer></div></div><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>&nbsp;</span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>요로코롬 :&nbsp;</span></p><div class="se-div" style="box-sizing: border-box; border-radius: 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); line-height: 1.42857; padding: 9.5px; margin: 0px 0px 10px; border-color: rgb(204, 204, 204); border-style: solid; border-width: 1px; display: block; overflow: auto; overflow-wrap: break-word; word-break: break-all;" data-ke-type="codeblock"><div class="se-para-div" style="margin: 0px;"><secontainer style="display: inline-block; white-space: normal;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-radius: 0px; white-space: pre-wrap;">@Query("update User set name = :#{#paramUser.name}, age = :#{#paramUser.age}, ssn = :#{#paramUser.ssn} where id = :#{#paramUser.id}")
int updateSpecificAttribute(@Param("paramUser") User user );</code></secontainer></div></div><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>&nbsp;</span><span class="se-drawing-object-wrapper se-image" style="vertical-align: baseline; text-indent: 0px; display: inline-block;"><img style="vertical-align: bottom; width: 623.4px; height: 589.593px;" src="uploads/00010/ebeddd42-33f4-4077-8a2e-1d9b31fbff07.jpg"></span></p><p style="box-sizing: border-box; padding-top: 0px; padding-bottom: 0px; margin: 0px;"><span>&nbsp;</span><span class="se-drawing-object-wrapper se-image" style="vertical-align: baseline; text-indent: 0px; display: inline-block;"><img style="vertical-align: bottom; width: 981px; height: 590.182px;" src="uploads/00010/4e4aa85a-e22e-4811-9d83-97c91079d2bf.jpg"></span></p><p><br></p></div></div></div></div></body></html>