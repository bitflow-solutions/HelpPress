<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
<title>DB금융투자 HTS 도움말</title>
<link href="./resources/img/favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="./resources/css/mini-default.min.css" rel="stylesheet" type="text/css">
<link href="./resources/fontawesome5/css/all.css" rel="stylesheet" type="text/css">
<link href="./resources/jquery/fancytree/skin-lion/ui.fancytree.css" rel="stylesheet" type="text/css">
<link href="./resources/css/custom.css" rel="stylesheet" type="text/css">
<style>
header > ul { float: right; display: inline-flex; }
header > ul > li { list-style-type: none; }
a.button.on { background-color: var(--mark-back-color); color: white; }
</style>
</head>
<body>

<header>
  <a href="javascript:void(0);" class="logo" style="cursor: default;">
    <img src="./resources/img/ic-logo-dbfi.png" style="margin-top: 8px;"/><span style="margin-left: 40px;">DB HTS 도움말</span>
  </a>
  <a href="./domestic.html" class="button ">국내주식</a><a href="./fdssdffds.html" class="button ">21ㅁㄹAZas</a><a href="./international.html" class="button on">해외주식</a><!-- <mark>국내주식</mark> -->
  <div class="floating-export-wrapper">
    <i id="btn-print" class="fas fa-print"></i>
    <i id="btn-pdf" class="far fa-file-pdf"></i>
   </div>
</header>

<div id="bf-body-wrapper" class="container">
	<div id="bf-content-area" class="row">
		<div class="col col-20 bf-menu-section">
		  <div class="row tree-menu">
        <div class="col-sm-10" style="position: relative;">
  		    <input placeholder="메뉴검색" type="search" id="search-bar" oninput="search()" maxlength="30">
  		    <i id="ic-search" class="fas fa-search"></i>
 		    </div>
		    <div class="col-sm-2" style="text-align: right;">
		      <i id="btn-expand-all" class="far fa-plus-square"></i><br>
		      <i id="btn-collapse-all" class="far fa-minus-square"></i>
		    </div>
		  </div>
		  <div id="tree">
		  </div>
		</div>
		<div class="col col-80 bf-detail-area" id="bf-contents" style="overflow-y: hidden;">
		  <div id="footer-copyright">
		    <div>
		      <img src="./img/ic-db-bottom.png"/>
	      </div>
	      <div>© 2020 DB금융투자 All Rights Reserved.</div>
      </div>
		  <iframe id="contents-detail" name="ifrm" width="100%" height="100%"></iframe>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="bf-modal-folder" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
    </div>
  </div>
</div>

<div id="snackbar"></div>

<div class="spinner-border" role="status" style="display: none;">
  <span class="sr-only">Loading...</span>
</div>

<script src="./resources/jquery/jquery-3.5.1.min.js"></script>
<script src="./resources/jquery/jquery-ui.min.js"></script>
<script src="./resources/jquery/fancytree/jquery.fancytree.min.js"></script>
<script src="./resources/jquery/fancytree/modules/jquery.fancytree.filter.js"></script>
 
<script>
/*<![CDATA[*/
var SOURCE = "[{\"expanded\":true,\"folder\":true,\"key\":\"00036\",\"partsel\":false,\"selected\":false,\"title\":\"\uC778\uACF5\uC9C0\uB2A5 \uCEF4\uD4E8\uD130\uBE44\uC804 \uAE30\uC220\uC744 \uC774\uC6A9\uD55C \uAD6D\uB0B4\uCD5C\uCD08 \uC120\uB85C\uACB0\uD568 \uC790\uB3D9\uAC80\uC0AC \uC2DC\uC2A4\uD15C1\",\"children\":[{\"key\":\"00037\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D01\"},{\"key\":\"00038\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0AC\uC774\uB0C5\uC5D0\uB514\uD130\uC5D0\uC11C \uC81C\uACF5\uD558\uB294 \uD30C\uC77C\uC5C5\uB85C\uB4DC\"},{\"key\":\"00039\",\"partsel\":false,\"selected\":false,\"title\":\"\uCEE8\uD2B8\uB864\uB7EC\"},{\"key\":\"00040\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00041\",\"partsel\":false,\"selected\":false,\"title\":\"[\uACF5\uC2DD\uC571][bose \uBB34\uC120\uC774\uC5B4\uD3F0 \uC0AC\uC6B4\uB4DC\uC2A4\uD3EC\uCE20 \uD504\uB9AC BK][50,000\uC6D0]\"},{\"key\":\"00042\",\"partsel\":false,\"selected\":false,\"title\":\"Flagging an Expandable icon click vs the Folder Name click #326\"},{\"key\":\"00043\",\"partsel\":false,\"selected\":false,\"title\":\"\uB09C\uB098\uB098\uB098\uB09C\"},{\"key\":\"00044\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D01\"},{\"key\":\"00045\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D02\"},{\"key\":\"00046\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D03\"},{\"key\":\"00047\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00048\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D02\"},{\"key\":\"00049\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00050\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00051\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D03\"},{\"key\":\"00052\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00053\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00054\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D04\"},{\"key\":\"00055\",\"partsel\":false,\"selected\":false,\"title\":\"Class: FancytreeNode\"},{\"key\":\"00056\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"expanded\":true,\"folder\":true,\"key\":\"00057\",\"partsel\":false,\"selected\":false,\"title\":\"NASDAQ\",\"children\":[{\"key\":\"00058\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00064\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00065\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00066\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"}]},{\"expanded\":true,\"folder\":true,\"key\":\"00059\",\"partsel\":false,\"selected\":false,\"title\":\"\uB098\uC73C\uD3F4\uB354\",\"children\":[{\"key\":\"00060\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"expanded\":true,\"folder\":true,\"key\":\"00061\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uD3F4\uB354\",\"children\":[{\"key\":\"00062\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"},{\"key\":\"00063\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"}]}]},{\"key\":\"00067\",\"partsel\":false,\"selected\":false,\"title\":\"\uC0C8 \uB3C4\uC6C0\uB9D0\"}]}]"; // [{"expanded":true,"folder":true,"key":"_3","partsel":false,"selected":false,"title":"국내주식이란","children":[{"key":"0001","partsel":false,"selected":false,"title":"국내주식의 특징"},{"key":"0002","partsel":false,"selected":false,"title":"신용거래"},{"key":"0003","partsel":false,"selected":false,"title":"춘향휴게소"},{"key":"0004","partsel":false,"selected":false,"title":"INTERVAL"}]},{"expanded":true,"folder":true,"key":"_3","partsel":false,"selected":false,"title":"해외주식이란","children":[{"key":"0008","partsel":false,"selected":false,"title":"새 도움말"},{"expanded":true,"folder":true,"key":"_2","partsel":false,"selected":false,"title":"개 폴더","children":[{"key":"0009","partsel":false,"selected":false,"title":"새 도움말"}]},{"folder":true,"key":"_2","partsel":false,"selected":false,"title":"새 폴더"}]}];
window.alert = function(message) {
	var x = document.getElementById("snackbar");
	x.className = "show";
	x.innerText = message;
	setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
}
function loadContents(id) {
	$(".spinner-border").show();
	location.href = "/doc#" + id;
}
function search(id) {
	var keyword = $("#search-bar").val();
	if (keyword && keyword.length>0) {
		$.ui.fancytree.getTree().filterNodes(keyword, {autoExpand: true, leavesOnly: true});
	} else {
		$.ui.fancytree.getTree().clearFilter()
  }
}
function goHashLocation() {
  var key = window.location.hash.substr(1)?window.location.hash.substr(1):'';
  var _tree = $.ui.fancytree.getTree();
	if (key && key.length>0) {
	  var selectedNode = _tree.getNodeByKey(key);
	  selectedNode.setActive();
	  $("#contents-detail").attr("src", key + ".html");
	} else {
		$.ui.fancytree.getTree().visit(function(node) {
		  if (typeof(node.folder)=='undefined') {
			  node.setActive();
			  $("#contents-detail").attr("src", node.key + ".html");
			  location.href = "#" + node.key;
			  return false;
		  }
		});
	}
}
function printIframeContent() {
  var content = document.getElementById('contents-detail');
  content.focus();
  content.contentWindow.print();
}
function initEventListener() {
  $(".fancytree-folder .fancytree-title").attr('tabindex', '-1');
  $("#btn-expand-all").click(expandAll);
  $("#btn-collapse-all").click(collapseAll);
  $("#btn-print").click(printIframeContent);
}
function expandAll() {
  $.ui.fancytree.getTree().expandAll();
}
function collapseAll() {
  $.ui.fancytree.getTree().expandAll(false);
}
function initTree() {
  $('#tree').fancytree({
	  extensions: ["filter"],
	  filter: {  // override default settings
	    counter: false, // No counter badges
	    mode: "hide"  // "dimm": Grayout unmatched nodes, "hide": remove unmatched nodes
	  },
    checkbox: false,
    selectMode: 3,
    source: JSON.parse(SOURCE),
    nodata: '검색된 도움말이 없습니다',
    click: function(e, data){
      var node = data.node;
      var key = node.key;
      if (typeof(node.folder)==='undefined' && key) {
    	  $("#contents-detail").attr("src", key + ".html")
    	  location.href = "#" + key;
      } else if (node.folder) {
    	  node.toggleExpanded();
      }
    },
    close: function(e, data){
      initEvents();
    }
  });
}

$(function(){
  initTree();
  initEventListener();
  goHashLocation();
});
/*]]>*/
</script>

</body>
</html>